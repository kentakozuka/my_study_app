<html>

<h1>問題</h1>

<div>

</div>
	<table>
		<tr>
			<td colspan="2">
				<%= currentQuestion.TITLE %>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<%= currentQuestion.BODY %>
			</td>
		</tr>
		<tr>
			<td>
				<button type="button" value="&nbsp; 1 &nbsp;" >
			</td>
			<td>
				<%= currentQuestion.SELECTION_1 %>
			</td>
		</tr>
		<tr>
			<td>
				<button type="button" value="&nbsp; 2 &nbsp;" >
			</td>
			<td>
				<%= currentQuestion.SELECTION_2 %>
			</td>
		</tr>
		<tr>
			<td>
				<button type="button" value="&nbsp; 3 &nbsp;" >
			</td>
			<td>
				<%= currentQuestion.SELECTION_3 %>
			</td>
		</tr>
		<tr>
			<td>
				<button type="button" value="&nbsp; 4 &nbsp;" >
			</td>
			<td>
				<%= currentQuestion.SELECTION_4 %>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<%= currentQuestion.ANSWER %>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<%= currentQuestion.EXPLANATION %>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<%= currentQuestion.ANSWER %>
			</td>
		</tr>
		<tr>
			<td colspan="2" >
				<%= currentQuestion.REF_URL_1 %>
			</td>
		</tr>
		<tr>
			<td colspan="2" >
				<%= currentQuestion.REF_URL_2 %>
			</td>
		</tr>
		<tr>
			<td colspan="2" >
				<%= currentQuestion.REF_URL_3 %>
			</td>
		</tr>
		<tr>
			<td colspan="2" >
				<%= currentQuestion.REF_URL_4 %>
			</td>
		</tr>
		<tr>
			<td colspan="2" >
				<%= currentQuestion.SRC_QUESTION %>
			</td>
		</tr>
	</table>

	<button type="button" value="次の問題" >
<script>

/**
 * 問題の種別によって選択肢の表示・非表示を切り替えるメソッド
**/
function onTypeChanged(num) {
	var elements = document.getElementsByClassName('selection');
	if (num == 0) {
		for( var i=0; i < elements.length; i++ ) {
			elements[i].style.display="";
		}
	} else {
		for( var i=0; i < elements.length; i++ ) {
			elements[i].style.display="none";
		}
	}
}


/**
 * 試験ドロップダウン値変更時のコールバック関数
**/
function onExamChanged() {
	// オプションのリスト
	var options = document.form1.exam_id.options;
	// 選択されている値を取得
	var value;
	for(var i=0; i<options.length; i++) {
		if( options[i].selected ){
			value = options[i].value;
			break;
		}
	}
	console.log(value);
	postForm([
		{		name:	'exam_id'
			,	value:	value
		}
	]);
}

//TODO:共通化する
/**
 * POSTを送信する関数
 * @param 送信したいinput分のnameとvalueプロパティを持った配列
**/
function postForm(inputArray){

    var form = document.createElement( 'form' );
    document.body.appendChild( form );

	//引数のArrayの長さ分inputを登録する
	for(var i=0; i < inputArray.length; i++) {
    	var input = document.createElement( 'input' );
    	input.setAttribute( 'type',		'hidden' );
    	input.setAttribute( 'name',		inputArray[i].name );
    	input.setAttribute( 'value',	inputArray[i].value );
    	form.appendChild( input );
	}

    form.setAttribute('action',	'/edit_question' );
    form.setAttribute('method',	'post' );

    form.submit();
}
</script>
</html>
